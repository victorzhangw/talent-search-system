<svg width="950" height="650" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <!-- 漸層定義 -->
    <linearGradient id="ragGrad1" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3B82F6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1D4ED8;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="ragGrad2" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#10B981;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#059669;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="ragGrad3" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#F59E0B;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#D97706;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="ragGrad4" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#EF4444;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#DC2626;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="dbGrad1" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#6366F1;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#4F46E5;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="dbGrad2" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#8B5CF6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#7C3AED;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="dbGrad3" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#A855F7;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#9333EA;stop-opacity:1" />
    </linearGradient>
    
    <!-- 陰影效果 -->
    <filter id="ragShadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="3" dy="3" stdDeviation="4" flood-color="#00000040"/>
    </filter>
    <filter id="softShadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-color="#00000030"/>
    </filter>
    
    <!-- 箭頭標記 -->
    <marker id="ragArrow" markerWidth="12" markerHeight="8" refX="10" refY="4" orient="auto">
      <polygon points="0 0, 12 4, 0 8" fill="#374151"/>
    </marker>
    <marker id="thinArrow" markerWidth="10" markerHeight="6" refX="8" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#6B7280"/>
    </marker>
  </defs>
  
  <!-- 背景 -->
  <rect x="20" y="20" width="910" height="610" rx="15" fill="#F8FAFC" stroke="#E2E8F0" stroke-width="1"/>
  
  <!-- 標題 -->
  <text x="475" y="50" text-anchor="middle" fill="#1E293B" font-family="微軟正黑體" font-size="24" font-weight="bold">RAG 系統架構流程</text>
  <text x="475" y="75" text-anchor="middle" fill="#64748B" font-family="微軟正黑體" font-size="14">Retrieval-Augmented Generation 檢索增強生成</text>
  
  <!-- 流程步驟容器 -->
  <rect x="50" y="100" width="850" height="120" rx="12" fill="white" stroke="#E2E8F0" stroke-width="1" filter="url(#softShadow)"/>
  
  <!-- 步驟 1: 用戶查詢 -->
  <rect x="70" y="120" width="160" height="80" rx="12" fill="url(#ragGrad1)" filter="url(#ragShadow)"/>
  <text x="150" y="140" text-anchor="middle" fill="white" font-family="微軟正黑體" font-size="14" font-weight="bold">1. 用戶查詢</text>
  <text x="150" y="160" text-anchor="middle" fill="white" font-family="微軟正黑體" font-size="11">"需要善於溝通的銷售人員"</text>
  <text x="150" y="180" text-anchor="middle" fill="rgba(255,255,255,0.9)" font-family="微軟正黑體" font-size="10">自然語言輸入</text>
  
  <!-- 步驟 2: 查詢向量化 -->
  <rect x="280" y="120" width="160" height="80" rx="12" fill="url(#ragGrad2)" filter="url(#ragShadow)"/>
  <text x="360" y="140" text-anchor="middle" fill="white" font-family="微軟正黑體" font-size="14" font-weight="bold">2. 查詢向量化</text>
  <text x="360" y="160" text-anchor="middle" fill="white" font-family="微軟正黑體" font-size="11">Embedding 模型</text>
  <text x="360" y="180" text-anchor="middle" fill="rgba(255,255,255,0.9)" font-family="微軟正黑體" font-size="10">文字轉換為向量表示</text>
  
  <!-- 步驟 3: 向量搜索 -->
  <rect x="490" y="120" width="160" height="80" rx="12" fill="url(#ragGrad3)" filter="url(#ragShadow)"/>
  <text x="570" y="140" text-anchor="middle" fill="white" font-family="微軟正黑體" font-size="14" font-weight="bold">3. 向量搜索</text>
  <text x="570" y="160" text-anchor="middle" fill="white" font-family="微軟正黑體" font-size="11">相似度計算</text>
  <text x="570" y="180" text-anchor="middle" fill="rgba(255,255,255,0.9)" font-family="微軟正黑體" font-size="10">檢索最相關候選人</text>
  
  <!-- 步驟 4: 結果生成 -->
  <rect x="700" y="120" width="160" height="80" rx="12" fill="url(#ragGrad4)" filter="url(#ragShadow)"/>
  <text x="780" y="140" text-anchor="middle" fill="white" font-family="微軟正黑體" font-size="14" font-weight="bold">4. 結果生成</text>
  <text x="780" y="160" text-anchor="middle" fill="white" font-family="微軟正黑體" font-size="11">LLM 生成解釋</text>
  <text x="780" y="180" text-anchor="middle" fill="rgba(255,255,255,0.9)" font-family="微軟正黑體" font-size="10">提供推薦理由</text>
  
  <!-- 連接線和箭頭 -->
  <line x1="230" y1="160" x2="280" y2="160" stroke="#374151" stroke-width="3" marker-end="url(#ragArrow)"/>
  <line x1="440" y1="160" x2="490" y2="160" stroke="#374151" stroke-width="3" marker-end="url(#ragArrow)"/>
  <line x1="650" y1="160" x2="700" y2="160" stroke="#374151" stroke-width="3" marker-end="url(#ragArrow)"/>
  
  <!-- 資料庫層 -->
  <rect x="50" y="240" width="850" height="120" rx="12" fill="white" stroke="#E2E8F0" stroke-width="1" filter="url(#softShadow)"/>
  
  <text x="475" y="260" text-anchor="middle" fill="#374151" font-family="微軟正黑體" font-size="16" font-weight="bold">資料儲存層</text>
  
  <!-- 人才資料庫 -->
  <rect x="100" y="280" width="180" height="60" rx="10" fill="url(#dbGrad1)" filter="url(#ragShadow)"/>
  <text x="190" y="300" text-anchor="middle" fill="white" font-family="微軟正黑體" font-size="12" font-weight="bold">人才資料庫</text>
  <text x="190" y="320" text-anchor="middle" fill="rgba(255,255,255,0.9)" font-family="微軟正黑體" font-size="10">結構化候選人資料</text>
  
  <!-- 向量資料庫 -->
  <rect x="350" y="280" width="180" height="60" rx="10" fill="url(#dbGrad2)" filter="url(#ragShadow)"/>
  <text x="440" y="300" text-anchor="middle" fill="white" font-family="微軟正黑體" font-size="12" font-weight="bold">向量資料庫</text>
  <text x="440" y="320" text-anchor="middle" fill="rgba(255,255,255,0.9)" font-family="微軟正黑體" font-size="10">Embedding 向量儲存</text>
  
  <!-- 知識庫 -->
  <rect x="600" y="280" width="180" height="60" rx="10" fill="url(#dbGrad3)" filter="url(#ragShadow)"/>
  <text x="690" y="300" text-anchor="middle" fill="white" font-family="微軟正黑體" font-size="12" font-weight="bold">知識庫</text>
  <text x="690" y="320" text-anchor="middle" fill="rgba(255,255,255,0.9)" font-family="微軟正黑體" font-size="10">職位描述、技能要求</text>
  
  <!-- 連接資料庫的虛線 -->
  <line x1="360" y1="200" x2="190" y2="280" stroke="#6B7280" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#thinArrow)"/>
  <line x1="570" y1="200" x2="440" y2="280" stroke="#6B7280" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#thinArrow)"/>
  <line x1="780" y1="200" x2="690" y2="280" stroke="#6B7280" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#thinArrow)"/>
  
  <!-- RAG 流程說明 -->
  <rect x="50" y="380" width="850" height="220" rx="15" fill="white" stroke="#E2E8F0" stroke-width="1" filter="url(#softShadow)"/>
  <text x="70" y="405" fill="#64748B" font-family="微軟正黑體" font-size="18" font-weight="bold">RAG 架構優勢與實作細節</text>
  
  <!-- 左側內容 -->
  <circle cx="80" cy="435" r="5" fill="#3B82F6"/>
  <text x="95" y="440" fill="#475569" font-family="微軟正黑體" font-size="13" font-weight="bold">檢索增強 (Retrieval)：</text>
  <text x="95" y="460" fill="#64748B" font-family="微軟正黑體" font-size="12">• 使用向量搜索快速找到相關候選人資料</text>
  <text x="95" y="480" fill="#64748B" font-family="微軟正黑體" font-size="12">• 支援語義搜索，理解查詢意圖而非僅關鍵字匹配</text>
  <text x="95" y="500" fill="#64748B" font-family="微軟正黑體" font-size="12">• 多模態檢索支援文字和技能匹配</text>
  
  <circle cx="80" cy="525" r="5" fill="#F59E0B"/>
  <text x="95" y="530" fill="#475569" font-family="微軟正黑體" font-size="13" font-weight="bold">技術實作：</text>
  <text x="95" y="550" fill="#64748B" font-family="微軟正黑體" font-size="12">• 使用 BGE-M3 或 Text2Vec 進行中文向量化</text>
  <text x="95" y="570" fill="#64748B" font-family="微軟正黑體" font-size="12">• Pinecone 或 Qdrant 作為向量資料庫</text>
  <text x="95" y="590" fill="#64748B" font-family="微軟正黑體" font-size="12">• 實時更新候選人向量索引，確保資料新鮮度</text>
  
  <!-- 右側內容 -->
  <circle cx="500" cy="435" r="5" fill="#10B981"/>
  <text x="515" y="440" fill="#475569" font-family="微軟正黑體" font-size="13" font-weight="bold">生成增強 (Generation)：</text>
  <text x="515" y="460" fill="#64748B" font-family="微軟正黑體" font-size="12">• LLM 基於檢索結果生成個性化解釋</text>
  <text x="515" y="480" fill="#64748B" font-family="微軟正黑體" font-size="12">• 提供匹配理由和改進建議</text>
  <text x="515" y="500" fill="#64748B" font-family="微軟正黑體" font-size="12">• 支援多輪對話和上下文理解</text>
  
  <circle cx="500" cy="525" r="5" fill="#EF4444"/>
  <text x="515" y="530" fill="#475569" font-family="微軟正黑體" font-size="13" font-weight="bold">效能優化：</text>
  <text x="515" y="550" fill="#64748B" font-family="微軟正黑體" font-size="12">• 向量快取減少重複計算</text>
  <text x="515" y="570" fill="#64748B" font-family="微軟正黑體" font-size="12">• 分層搜索策略提升響應速度</text>
  <text x="515" y="590" fill="#64748B" font-family="微軟正黑體" font-size="12">• 批次處理優化 LLM 推理效率</text>
  
  <!-- 底部裝飾線 -->
  <line x1="475" y1="605" x2="475" y2="615" stroke="#3B82F6" stroke-width="2"/>
  <line x1="465" y1="610" x2="485" y2="610" stroke="#10B981" stroke-width="2"/>
</svg>