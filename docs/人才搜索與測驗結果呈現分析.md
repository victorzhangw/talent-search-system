# äººæ‰æœç´¢èˆ‡æ¸¬é©—çµæœå‘ˆç¾åˆ†æå ±å‘Š

**æ–‡æª”æ—¥æœŸï¼š** 2025-11-15

## ç›®éŒ„

1. [ç³»çµ±æ¦‚è¿°](#ç³»çµ±æ¦‚è¿°)
2. [äººæ‰æœç´¢æ–¹å¼](#äººæ‰æœç´¢æ–¹å¼)
3. [æ¸¬é©—çµæœæ•¸æ“šçµæ§‹](#æ¸¬é©—çµæœæ•¸æ“šçµæ§‹)
4. [å‰ç«¯å‘ˆç¾æ–¹å¼](#å‰ç«¯å‘ˆç¾æ–¹å¼)
5. [API æ¥å£è¨­è¨ˆ](#apiæ¥å£è¨­è¨ˆ)
6. [PDF å ±å‘Šç”Ÿæˆ](#pdfå ±å‘Šç”Ÿæˆ)

---

## ç³»çµ±æ¦‚è¿°

æœ¬ç³»çµ±æ˜¯ä¸€å€‹å®Œæ•´çš„äººæ‰è©•æ¸¬èˆ‡æœç´¢å¹³å°ï¼ŒåŒ…å«ä»¥ä¸‹æ ¸å¿ƒåŠŸèƒ½ï¼š

- ä¼æ¥­ç”¨æˆ¶å¯ä»¥é‚€è«‹å—æ¸¬è€…é€²è¡Œæ¸¬é©—
- ç³»çµ±è‡ªå‹•çˆ¬å–æ¸¬é©—çµæœ
- æä¾›å¤šç¶­åº¦çš„äººæ‰æœç´¢åŠŸèƒ½
- ç”Ÿæˆå°ˆæ¥­çš„ PDF æ¸¬é©—å ±å‘Š

---

## äººæ‰æœç´¢æ–¹å¼

### 1. æ•¸æ“šåº«æœç´¢æ¶æ§‹

#### æ ¸å¿ƒæ¨¡å‹é—œä¿‚

```
TestInvitation (æ¸¬é©—é‚€è«‹)
    â”œâ”€â”€ TestInvitee (å—æ¸¬è€…è³‡è¨Š)
    â”œâ”€â”€ TestProject (æ¸¬é©—é …ç›®)
    â””â”€â”€ TestProjectResult (æ¸¬é©—çµæœ)
            â”œâ”€â”€ raw_data (åŸå§‹æ•¸æ“š JSON)
            â”œâ”€â”€ category_results (åˆ†é¡çµæœ JSON)
            â”œâ”€â”€ trait_results (ç‰¹è³ªçµæœ JSON)
            â””â”€â”€ score_value (è©•åˆ†å€¼)
```

#### æœç´¢å¯¦ç¾ä½ç½®

- **å¾Œç«¯ API**: `BackEnd/talent_search_api.py`
- **å°è©±å¢å¼·æœç´¢**: `BackEnd/conversation_enhanced_search.py`
- **ç‰¹è³ªæŸ¥è©¢**: `BackEnd/query_traits.py`

### 2. æœç´¢æ–¹å¼è©³è§£

#### 2.1 åŸºæ–¼ç‰¹è³ªçš„æœç´¢

**æ–‡ä»¶**: `BackEnd/query_traits.py`

```python
# æœç´¢æµç¨‹ï¼š
1. æ¥æ”¶ç”¨æˆ¶æŸ¥è©¢ï¼ˆè‡ªç„¶èªè¨€ï¼‰
2. LLM è§£ææŸ¥è©¢æ„åœ–ï¼Œæå–ç‰¹è³ªé—œéµè©
3. åœ¨ TestProjectResult.trait_results ä¸­æœç´¢åŒ¹é…çš„ç‰¹è³ª
4. è¨ˆç®—åŒ¹é…åº¦åˆ†æ•¸
5. è¿”å›æ’åºå¾Œçš„å€™é¸äººåˆ—è¡¨
```

**ç‰¹è³ªåŒ¹é…é‚è¼¯**:

- å¾ `trait_results` JSON æ¬„ä½ä¸­æå–ç‰¹è³ªåˆ†æ•¸
- æ”¯æŒå¤šç‰¹è³ªçµ„åˆæœç´¢
- å¯è¨­å®šç‰¹è³ªæ¬Šé‡å’Œé–¾å€¼

#### 2.2 åŸºæ–¼åˆ†é¡çš„æœç´¢

**æ–‡ä»¶**: `BackEnd/conversation_enhanced_search.py`

```python
# æœç´¢æµç¨‹ï¼š
1. è§£æè·ä½è§’è‰²éœ€æ±‚
2. åœ¨ TestProjectResult.category_results ä¸­æŸ¥æ‰¾å°æ‡‰åˆ†é¡
3. è¨ˆç®—è§’è‰²åŒ¹é…åº¦ï¼ˆRole-based æˆ– Score-basedï¼‰
4. æ”¯æŒæ··åˆè§’è‰²è­˜åˆ¥
```

**åˆ†é¡åŒ¹é…æ–¹å¼**:

- **Role-based**: åŸºæ–¼è§’è‰²å°æ¯”æŒ‡æ•¸ï¼ˆContrast Indexï¼‰
- **Score-based**: åŸºæ–¼åŠ æ¬Šåˆ†æ•¸ï¼ˆWeighted Scoreï¼‰
- æ”¯æŒæ··åˆè§’è‰²ï¼ˆMixed Rolesï¼‰è­˜åˆ¥

#### 2.3 å¤šæ„åœ–æœç´¢ç³»çµ±

**æ–‡ä»¶**: `BackEnd/talent_search_api.py`

```python
# æ”¯æŒçš„æ„åœ–é¡å‹ï¼š
- search_by_traits: æŒ‰ç‰¹è³ªæœç´¢
- search_by_role: æŒ‰è·ä½è§’è‰²æœç´¢
- search_by_score: æŒ‰åˆ†æ•¸ç¯„åœæœç´¢
- filter_by_status: æŒ‰ç‹€æ…‹ç¯©é¸
- combined_search: çµ„åˆæœç´¢
```

### 3. æœç´¢ API ç«¯é»

#### ä¸»è¦ API

```
POST /api/search
- åŠŸèƒ½ï¼šåŸ·è¡Œäººæ‰æœç´¢
- åƒæ•¸ï¼š
  {
    "query": "éœ€è¦å–„æ–¼æºé€šçš„éŠ·å”®äººå“¡",
    "filters": {
      "min_score": 70,
      "status": "employed",
      "position": "éŠ·å”®"
    }
  }
- è¿”å›ï¼šå€™é¸äººåˆ—è¡¨ + åŒ¹é…åŸå› 
```

#### æ¸¬é©—çµæœ API

```
GET /api/test-results/
- åŠŸèƒ½ï¼šç²å–æ¸¬é©—çµæœåˆ—è¡¨
- æ¬Šé™ï¼šä¼æ¥­ç”¨æˆ¶

GET /api/test-results/{id}/
- åŠŸèƒ½ï¼šç²å–å–®å€‹æ¸¬é©—çµæœè©³æƒ…
- è¿”å›ï¼šå®Œæ•´çš„æ¸¬é©—æ•¸æ“šå’Œåˆ†æ
```

---

## æ¸¬é©—çµæœæ•¸æ“šçµæ§‹

### 1. TestProjectResult æ¨¡å‹

**ä½ç½®**: `project/core/models.py` (Line 792+)

```python
class TestProjectResult(models.Model):
    # é—œè¯
    test_invitation = OneToOneField(TestInvitation)
    test_project = ForeignKey(TestProject)

    # æ ¸å¿ƒæ•¸æ“šæ¬„ä½
    raw_data = JSONField()           # åŸå§‹çˆ¬èŸ²æ•¸æ“š
    processed_data = JSONField()     # è™•ç†å¾Œæ•¸æ“š
    category_results = JSONField()   # åˆ†é¡çµæœ
    trait_results = JSONField()      # ç‰¹è³ªçµæœ

    # è©•åˆ†
    score_value = FloatField()       # ä¸»è¦è©•åˆ†
    prediction_value = TextField()   # é æ¸¬å€¼

    # ç‹€æ…‹
    crawl_status = CharField()       # pending/crawling/completed/failed
    report_generated = BooleanField()
```

### 2. æ•¸æ“šçµæ§‹ç¯„ä¾‹

#### raw_data çµæ§‹

```json
{
  "performance_metrics": {
    "CI_Raw_Value": 85.5,
    "Prediction_Score": 78.2
  },
  "trait_scores": {
    "communication": {
      "chinese_name": "æºé€šèƒ½åŠ›",
      "score": 82.0
    },
    "leadership": {
      "chinese_name": "é ˜å°åŠ›",
      "score": 75.5
    }
  }
}
```

#### category_results çµæ§‹

```json
{
  "éŠ·å”®è§’è‰²": {
    "score": 85.0,
    "role_index": 88.5,
    "contrast_index": 92.0,
    "traits": [
      { "name": "æºé€šèƒ½åŠ›", "score": 82.0 },
      { "name": "èªªæœåŠ›", "score": 88.0 }
    ]
  }
}
```

#### trait_results çµæ§‹

```json
{
  "communication": {
    "chinese_name": "æºé€šèƒ½åŠ›",
    "score": 82.0,
    "percentage": 82.0,
    "level": "é«˜"
  },
  "analytical_thinking": {
    "chinese_name": "åˆ†ææ€è€ƒ",
    "score": 75.0,
    "percentage": 75.0,
    "level": "ä¸­ç­‰"
  }
}
```

---

## å‰ç«¯å‘ˆç¾æ–¹å¼

### 1. èŠå¤©å¼æœç´¢ç•Œé¢

**æ–‡ä»¶**: `talent-chat-frontend.html`

#### ç•Œé¢çµ„æˆ

```html
<div id="app">
  <!-- é é¦–ï¼šé¡¯ç¤ºç³»çµ±ç‹€æ…‹ -->
  <div class="header">
    <h1>äººæ‰èŠå¤©æœç´¢ç³»çµ±</h1>
    <div class="status">é€£æ¥ç‹€æ…‹</div>
  </div>

  <!-- ä¸»è¦å…§å®¹å€ -->
  <div class="main-content">
    <!-- å·¦å´ï¼šå°è©±å€ -->
    <div class="chat-area">
      <div class="messages">
        <!-- ç”¨æˆ¶è¨Šæ¯ -->
        <div class="message user">
          <div class="message-avatar">ğŸ‘¤</div>
          <div class="message-content">éœ€è¦å–„æ–¼æºé€šçš„éŠ·å”®äººå“¡</div>
        </div>

        <!-- ç³»çµ±å›æ‡‰ -->
        <div class="message system">
          <div class="message-avatar">ğŸ¤–</div>
          <div class="message-content">æ‰¾åˆ° 5 ä½å€™é¸äºº...</div>
        </div>
      </div>

      <!-- è¼¸å…¥å€ -->
      <div class="input-area">
        <input v-model="userInput" placeholder="æè¿°æ‚¨éœ€è¦çš„äººæ‰ç‰¹è³ª..." />
        <button @click="sendMessage">ç™¼é€</button>
      </div>
    </div>

    <!-- å³å´ï¼šçµæœå€ -->
    <div class="results-area">
      <div class="candidate-card" v-for="candidate in candidates">
        <div class="candidate-name">{{ candidate.name }}</div>
        <div class="candidate-email">{{ candidate.email }}</div>
        <div class="match-score">åŒ¹é…åº¦: {{ candidate.match_score }}%</div>
        <div class="match-reason">{{ candidate.match_reason }}</div>
      </div>
    </div>
  </div>
</div>
```

#### Vue.js æ•¸æ“šæµ

```javascript
// ç™¼é€æœç´¢è«‹æ±‚
async sendMessage() {
  const response = await axios.post('/api/search', {
    query: this.userInput,
    filters: null
  });

  // æ›´æ–°å€™é¸äººåˆ—è¡¨
  this.candidates = response.data.candidates;

  // é¡¯ç¤ºç³»çµ±å›æ‡‰
  this.messages.push({
    type: 'system',
    content: response.data.query_understanding
  });
}
```

### 2. æ¸¬é©—çµæœè©³æƒ…é 

**æ–‡ä»¶**: `project/core/test_result_views.py` â†’ `test_result_detail`

#### é é¢çµ„æˆ

```python
context = {
    'result': result,                    # æ¸¬é©—çµæœç‰©ä»¶
    'formatted_raw_data': {},            # æ ¼å¼åŒ–çš„åŸå§‹æ•¸æ“š
    'category_scores': {},               # åˆ†é¡åˆ†æ•¸
    'category_traits': {},               # å„åˆ†é¡çš„ç‰¹è³ª
    'category_labels': [],               # é›·é”åœ–æ¨™ç±¤
    'category_values': [],               # é›·é”åœ–æ•¸å€¼
    'key_traits': {},                    # é—œéµç‰¹è³ªï¼ˆå‰10åï¼‰
    'mixed_roles': [],                   # æ··åˆè§’è‰²
    'role_based_metrics': {},            # è§’è‰²æŒ‡æ¨™
}
```

#### é›·é”åœ–æ•¸æ“šè¨ˆç®—

**æ–‡ä»¶**: `project/utils/radar_calculations.py`

```python
def compute_role_based_scores(role_inputs, show_mixed_role=False):
    """
    è¨ˆç®—è§’è‰²åŸºç¤åˆ†æ•¸

    åƒæ•¸:
        role_inputs: {
            "éŠ·å”®è§’è‰²": {
                "raw_score": 850.0,
                "max_score": 1000.0,
                "role_index": 85.0
            }
        }

    è¿”å›:
        {
            "role_index": {...},        # è§’è‰²æŒ‡æ•¸
            "contrast_index": {...},    # å°æ¯”æŒ‡æ•¸
            "mixed_roles": [...]        # æ··åˆè§’è‰²åˆ—è¡¨
        }
    """
```

### 3. æ¸¬é©—çµæœåˆ—è¡¨é 

**æ–‡ä»¶**: `project/core/test_result_views.py` â†’ `test_result_list`

#### åˆ—è¡¨åŠŸèƒ½

- åˆ†é é¡¯ç¤ºï¼ˆæ¯é  50 ç­†ï¼‰
- å¤šæ¢ä»¶ç¯©é¸ï¼š
  - æ¸¬é©—é …ç›®
  - å—æ¸¬è€…å§“å/Email
  - è·ä½
  - ç‹€æ…‹ï¼ˆå¾…åŸ·è¡Œ/é€²è¡Œä¸­/å·²å®Œæˆï¼‰
  - çˆ¬å–ç‹€æ…‹
- æ’åºé¸é …ï¼š
  - å®Œæˆæ™‚é–“ï¼ˆå‡åº/é™åºï¼‰
  - åˆ†æ•¸ï¼ˆå‡åº/é™åºï¼‰

#### çµ±è¨ˆæ•¸æ“š

```python
stats = {
    'total_invitations': 100,        # ç¸½é‚€è«‹æ•¸
    'completed_invitations': 85,     # å·²å®Œæˆæ•¸
    'crawlable_invitations': 10,     # å¯çˆ¬å–æ•¸
    'crawled_results': 75,           # å·²çˆ¬å–æ•¸
}
```

---

## API æ¥å£è¨­è¨ˆ

### 1. RESTful API æ¶æ§‹

**æ–‡ä»¶**: `project/api/views.py`

#### èªè­‰æ–¹å¼

```python
# JWT Token èªè­‰
Authorization: Bearer <access_token>
```

#### ä¸»è¦ç«¯é»

##### 1.1 ç”¨æˆ¶ç›¸é—œ

```
POST /api/register/          # ç”¨æˆ¶è¨»å†Š
POST /api/login/             # ç”¨æˆ¶ç™»å…¥
POST /api/logout/            # ç”¨æˆ¶ç™»å‡º
GET  /api/profile/           # ç²å–ç”¨æˆ¶è³‡æ–™
PUT  /api/profile/           # æ›´æ–°ç”¨æˆ¶è³‡æ–™
POST /api/password/change/   # ä¿®æ”¹å¯†ç¢¼
```

##### 1.2 æ¸¬é©—é …ç›®

```
GET  /api/test-projects/     # ç²å–å¯ç”¨æ¸¬é©—é …ç›®åˆ—è¡¨
GET  /api/test-projects/{id}/ # ç²å–æ¸¬é©—é …ç›®è©³æƒ…
```

##### 1.3 å—æ¸¬è€…ç®¡ç†

```
GET    /api/invitees/        # ç²å–å—æ¸¬è€…åˆ—è¡¨
POST   /api/invitees/        # å‰µå»ºå—æ¸¬è€…
GET    /api/invitees/{id}/   # ç²å–å—æ¸¬è€…è©³æƒ…
PUT    /api/invitees/{id}/   # æ›´æ–°å—æ¸¬è€…è³‡æ–™
DELETE /api/invitees/{id}/   # åˆªé™¤å—æ¸¬è€…
```

##### 1.4 æ¸¬é©—é‚€è«‹

```
GET    /api/invitations/     # ç²å–é‚€è«‹åˆ—è¡¨
POST   /api/invitations/     # å‰µå»ºé‚€è«‹
GET    /api/invitations/{id}/ # ç²å–é‚€è«‹è©³æƒ…
PUT    /api/invitations/{id}/ # æ›´æ–°é‚€è«‹
DELETE /api/invitations/{id}/ # å–æ¶ˆé‚€è«‹
```

##### 1.5 æ¸¬é©—çµæœ

```
GET /api/test-results/       # ç²å–çµæœåˆ—è¡¨
GET /api/test-results/{id}/  # ç²å–çµæœè©³æƒ…
```

##### 1.6 çµ±è¨ˆæ•¸æ“š

```
GET /api/statistics/         # ç²å–ä¼æ¥­çµ±è¨ˆæ•¸æ“š
GET /api/admin/statistics/   # ç²å–ç®¡ç†å“¡çµ±è¨ˆæ•¸æ“šï¼ˆéœ€ç®¡ç†å“¡æ¬Šé™ï¼‰
```

### 2. æœç´¢ API è©³ç´°è¨­è¨ˆ

**æ–‡ä»¶**: `BackEnd/talent_search_api.py`

#### ç«¯é»

```
POST /api/search
```

#### è«‹æ±‚æ ¼å¼

```json
{
  "query": "éœ€è¦å–„æ–¼æºé€šå’Œé ˜å°åŠ›çš„ç®¡ç†äººå“¡",
  "filters": {
    "min_score": 70,
    "max_score": 100,
    "status": "employed",
    "position": "ç¶“ç†",
    "test_project_id": 1
  },
  "limit": 10,
  "offset": 0
}
```

#### éŸ¿æ‡‰æ ¼å¼

```json
{
  "success": true,
  "query_understanding": "æ‚¨æ­£åœ¨æœç´¢å…·æœ‰æºé€šèƒ½åŠ›å’Œé ˜å°åŠ›çš„ç®¡ç†äººå“¡",
  "total": 15,
  "candidates": [
    {
      "id": 123,
      "name": "å¼µä¸‰",
      "email": "zhang@example.com",
      "position": "ç¶“ç†",
      "status": "employed",
      "match_score": 0.92,
      "match_reason": "æºé€šèƒ½åŠ›è©•åˆ† 85 åˆ†ï¼Œé ˜å°åŠ›è©•åˆ† 88 åˆ†ï¼Œéå¸¸ç¬¦åˆç®¡ç†è·ä½éœ€æ±‚",
      "test_result": {
        "score_value": 86.5,
        "category_scores": {
          "ç®¡ç†è§’è‰²": 88.0,
          "æºé€šè§’è‰²": 85.0
        },
        "key_traits": {
          "communication": 85.0,
          "leadership": 88.0,
          "decision_making": 82.0
        }
      }
    }
  ],
  "suggestions": [
    "å…·æœ‰åˆ†æèƒ½åŠ›çš„æ•¸æ“šåˆ†æå¸«",
    "å‰µæ„æ€ç¶­çš„è¨­è¨ˆå¸«",
    "åœ˜éšŠå”ä½œèƒ½åŠ›å¼·çš„å°ˆæ¡ˆç¶“ç†"
  ]
}
```

### 3. æ¬Šé™æ§åˆ¶

**æ–‡ä»¶**: `project/api/permissions.py`

```python
# æ¬Šé™é¡åˆ¥
- IsOwnerOrReadOnly: åªæœ‰æ“æœ‰è€…å¯ä»¥ä¿®æ”¹
- IsEnterpriseUser: åƒ…ä¼æ¥­ç”¨æˆ¶å¯è¨ªå•
- IsAdminUser: åƒ…ç®¡ç†å“¡å¯è¨ªå•
```

---

## PDF å ±å‘Šç”Ÿæˆ

### 1. å ±å‘Šç”Ÿæˆå™¨

**æ–‡ä»¶**: `project/utils/pdf_report_generator.py`

#### æ ¸å¿ƒé¡åˆ¥

```python
class PDFReportGenerator:
    def __init__(self):
        # è¨»å†Šä¸­æ–‡å­—é«”
        # è¨­å®šé é¢å¤§å°å’Œé‚Šè·
        # è¨­å®šæ¨£å¼

    def generate_test_result_report(self, test_result, output_path=None):
        """ç”Ÿæˆæ¸¬é©—çµæœå ±å‘Š"""
        # å‰µå»ºPDFæ–‡æª”
        # æ·»åŠ å°é¢é 
        # æ·»åŠ å ±å‘Šä½¿ç”¨æŒ‡å—
        # æ·»åŠ é—œéµç‰¹è³ªåˆ†æ
        # æ·»åŠ åˆ†é¡åˆ†æ
        # æ·»åŠ é›·é”åœ–
        # æ·»åŠ ç™¼å±•å»ºè­°
```

### 2. å ±å‘Šçµæ§‹

#### é é¢çµ„æˆ

1. **å°é¢é **

   - æ¸¬é©—åç¨±
   - å—æ¸¬è€…è³‡è¨Š
   - æ¸¬é©—æ—¥æœŸ
   - å…¬å¸ Logo

2. **å ±å‘Šä½¿ç”¨æŒ‡å—**

   - å ±å‘Šèªªæ˜
   - é–±è®€å»ºè­°
   - æ³¨æ„äº‹é …

3. **é—œéµç‰¹è³ªåˆ†æ**

   - å‰ 10 åé«˜åˆ†ç‰¹è³ª
   - ç‰¹è³ªåˆ†æ•¸å’Œç™¾åˆ†æ¯”
   - ç‰¹è³ªç­‰ç´šï¼ˆéå¸¸é«˜/é«˜/ä¸­ç­‰/ä½/éå¸¸ä½ï¼‰

4. **åˆ†é¡è§’è‰²åˆ†æ**

   - å„è§’è‰²åˆ†æ•¸
   - é›·é”åœ–è¦–è¦ºåŒ–
   - æ··åˆè§’è‰²è­˜åˆ¥

5. **å„ªå‹¢èˆ‡åŠ£å‹¢åˆ†æ**

   - å„ªå‹¢åˆ†é¡ï¼ˆå‰ 2 åï¼‰
   - åŠ£å‹¢åˆ†é¡ï¼ˆå¾Œ 2 åï¼‰
   - å…·é«”å»ºè­°

6. **ç™¼å±•å»ºè­°**
   - åŸºæ–¼æ¸¬é©—çµæœçš„å€‹äººåŒ–å»ºè­°
   - è·æ¶¯ç™¼å±•æ–¹å‘
   - èƒ½åŠ›æå‡å»ºè­°

### 3. é›·é”åœ–ç”Ÿæˆ

**ä½¿ç”¨ matplotlib ç”Ÿæˆé›·é”åœ–**

```python
def _create_radar_chart(self, category_labels, category_values):
    """
    å‰µå»ºé›·é”åœ–

    åƒæ•¸:
        category_labels: ['éŠ·å”®è§’è‰²', 'ç®¡ç†è§’è‰²', 'æŠ€è¡“è§’è‰²']
        category_values: [85.0, 78.0, 65.0]

    è¿”å›:
        åœ–ç‰‡è·¯å¾‘
    """
    # è¨­å®šä¸­æ–‡å­—é«”
    # å‰µå»ºæ¥µåº§æ¨™åœ–
    # ç¹ªè£½æ•¸æ“š
    # ä¿å­˜åœ–ç‰‡
    # è¿”å›è·¯å¾‘
```

### 4. å ±å‘Šä¸‹è¼‰

**æ–‡ä»¶**: `project/core/test_result_views.py` â†’ `export_test_result`

```python
@login_required
@enterprise_required
def export_test_result(request, result_id):
    """åŒ¯å‡ºæ¸¬é©—çµæœç‚ºPDF"""
    result = get_object_or_404(TestProjectResult, id=result_id)

    # ç”ŸæˆPDF
    generator = PDFReportGenerator()
    pdf_buffer = generator.generate_test_result_report(result)

    # è¿”å›HTTPéŸ¿æ‡‰
    response = HttpResponse(pdf_buffer, content_type='application/pdf')
    response['Content-Disposition'] = f'attachment; filename="report_{result_id}.pdf"'
    return response
```

---

## ç¸½çµ

### ç³»çµ±ç‰¹é»

1. **å¤šç¶­åº¦æœç´¢**

   - æ”¯æŒè‡ªç„¶èªè¨€æŸ¥è©¢
   - åŸºæ–¼ç‰¹è³ªå’Œè§’è‰²çš„ç²¾ç¢ºåŒ¹é…
   - éˆæ´»çš„ç¯©é¸å’Œæ’åº

2. **è±å¯Œçš„æ•¸æ“šçµæ§‹**

   - JSON æ ¼å¼å„²å­˜éˆæ´»æ•¸æ“š
   - æ”¯æŒå¤šå±¤ç´šæ•¸æ“šåˆ†æ
   - å®Œæ•´çš„æ¸¬é©—çµæœè¿½è¹¤

3. **ç›´è§€çš„å‰ç«¯å‘ˆç¾**

   - èŠå¤©å¼äº¤äº’ç•Œé¢
   - å¯¦æ™‚æœç´¢çµæœå±•ç¤º
   - è¦–è¦ºåŒ–çš„é›·é”åœ–åˆ†æ

4. **å°ˆæ¥­çš„å ±å‘Šç”Ÿæˆ**

   - å®Œæ•´çš„ PDF å ±å‘Š
   - ä¸­æ–‡å­—é«”æ”¯æŒ
   - å¤šé é¢çµæ§‹åŒ–å…§å®¹

5. **å®Œå–„çš„ API è¨­è¨ˆ**
   - RESTful æ¶æ§‹
   - JWT èªè­‰
   - æ¬Šé™æ§åˆ¶

### æŠ€è¡“æ£§

- **å¾Œç«¯**: Django + Django REST Framework
- **å‰ç«¯**: Vue.js 3 + Axios
- **æ•¸æ“šåº«**: PostgreSQL (JSON æ¬„ä½æ”¯æŒ)
- **PDF ç”Ÿæˆ**: ReportLab + Matplotlib
- **çˆ¬èŸ²**: Selenium (PITestResultCrawler)
- **LLM æ•´åˆ**: OpenAI API (æ„åœ–è­˜åˆ¥)

---

**æ–‡æª”ç‰ˆæœ¬**: 1.0  
**æœ€å¾Œæ›´æ–°**: 2025-11-15  
**ç¶­è­·è€…**: AI Development Team
