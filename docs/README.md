# 人才搜索系統 - AI 驅動的智能人才匹配

## 📖 專案簡介

這是一個基於 **DeepSeek LLM** 和 **PostgreSQL** 的智能人才搜索系統。系統透過自然語言理解用戶需求，從資料庫中精確查詢符合條件的候選人，並提供個性化的推薦理由。

### 核心特點

✅ **資料庫驅動** - 所有特質來自資料庫，確保數據一致性  
✅ **LLM 增強** - DeepSeek-V3 生成精確的 SQL 查詢條件  
✅ **智能匹配** - 基於真實測評分數計算匹配度  
✅ **前後端分離** - Vue.js 前端 + FastAPI 後端  
✅ **一鍵啟動** - 簡單易用的啟動腳本

## 🏗️ 系統架構

```
┌─────────────────────────────────────────────────────────────┐
│                    前端 (Vue.js)                             │
│              talent-chat-frontend.html                       │
└──────────────────────┬──────────────────────────────────────┘
                       │ HTTP/WebSocket
                       ↓
┌─────────────────────────────────────────────────────────────┐
│                 後端 API (FastAPI)                           │
│            BackEnd/talent_search_api.py                      │
│                                                              │
│  ┌────────────────────────────────────────────────────┐    │
│  │  LLM Service (DeepSeek-V3)                         │    │
│  │  • 從資料庫載入 50 個特質                           │    │
│  │  • 分析用戶自然語言查詢                             │    │
│  │  • 生成精確的 SQL WHERE 條件                        │    │
│  └────────────────────────────────────────────────────┘    │
│                                                              │
│  ┌────────────────────────────────────────────────────┐    │
│  │  TalentSearchEngine                                 │    │
│  │  • 執行 LLM 生成的 SQL 查詢                         │    │
│  │  • 基於真實測評分數計算匹配度                       │    │
│  │  • 生成個性化推薦理由                               │    │
│  └────────────────────────────────────────────────────┘    │
└──────────────────────┬──────────────────────────────────────┘
                       │ SSH Tunnel + SQL
                       ↓
┌─────────────────────────────────────────────────────────────┐
│              PostgreSQL 資料庫                               │
│                                                              │
│  • trait (50 個特質)                                         │
│  • individual_profile (候選人資料)                          │
│  • individual_test_result (測評結果)                        │
└─────────────────────────────────────────────────────────────┘
```

## 🚀 快速開始

### 前置需求

- Python 3.10+
- 現代瀏覽器（Chrome、Firefox、Edge）
- SSH 私鑰檔案（OpenSSH 格式）

### 一鍵啟動

```cmd
雙擊 start_all.bat
```

這會自動：

1. 啟動後端 API 服務（http://localhost:8000）
2. 在瀏覽器中開啟前端介面
3. 顯示系統狀態

### 停止系統

```cmd
雙擊 stop_all.bat
```

## 📚 文檔導覽

### 快速入門

- **快速啟動指南.md** - 5 分鐘快速上手
- **README-啟動說明.md** - 詳細的啟動和配置說明
- **系統啟動流程.md** - 視覺化的啟動流程圖

### 架構說明

- **新架構說明-資料庫驅動.md** - 完整的架構設計說明
- **新舊架構對比.md** - 新舊架構的對比分析
- **LLM 搜索流程詳解.md** - LLM 如何生成 SQL 查詢

### 技術細節

- **特質歸類系統說明.md** - 資料庫特質系統說明
- **人才搜索系統-LLM 整合說明.md** - LLM 整合技術細節
- **BackEnd/README_TALENT_SEARCH.md** - 後端 API 完整文檔

## 💡 使用範例

### 基礎搜索

```
輸入: "我需要一個善於溝通的銷售人員"

系統處理:
1. LLM 分析 → 提取特質：協調溝通、積極傾聽
2. 生成 SQL → WHERE (trait_results->>'協調溝通')::int >= 75
3. 查詢資料庫 → 返回 15 位符合條件的候選人
4. 計算匹配度 → 基於實際測評分數
5. 生成理由 → "王小明在協調溝通方面表現優異（85分）..."
```

### 複雜查詢

```
輸入: "找一個有創造力、分析能力強、善於團隊合作的產品經理"

系統會:
- 識別多個特質（創造性思考、分析性思考、團隊合作）
- 生成複合 SQL 條件
- 計算綜合匹配分數
- 提供詳細的匹配分析
```

## 🔧 技術棧

### 前端

- **Vue.js 3** - 響應式前端框架
- **Axios** - HTTP 客戶端
- **原生 CSS** - 美觀的 UI 設計

### 後端

- **FastAPI** - 現代化的 Python Web 框架
- **Uvicorn** - ASGI 伺服器
- **psycopg2** - PostgreSQL 驅動
- **httpx** - 非同步 HTTP 客戶端

### AI/LLM

- **DeepSeek-V3** - 大語言模型
- **SiliconFlow API** - LLM API 服務

### 資料庫

- **PostgreSQL** - 關聯式資料庫
- **SSH Tunnel** - 安全連接

## 📊 核心功能

### 1. 自然語言查詢

用戶可以用日常語言描述需求，無需了解技術術語。

### 2. 資料庫驅動的特質系統

- 50 個特質完全來自資料庫
- 12 個分類（核心工作動能、品格誠信素養等）
- LLM 只能使用資料庫中存在的特質

### 3. SQL 查詢生成

LLM 分析用戶需求後，生成精確的 SQL WHERE 條件：

```sql
WHERE (trait_results->>'協調溝通')::int >= 75
  AND (trait_results->>'積極傾聽')::int >= 70
```

### 4. 精確匹配計算

基於候選人的真實測評分數計算匹配度：

```python
匹配度 = (協調溝通分數 + 積極傾聽分數) / 200
```

### 5. 個性化推薦理由

LLM 為每個候選人生成獨特的推薦理由。

## 🎯 專案目標

### 已實現 ✅

- [x] 前後端分離架構
- [x] 資料庫驅動的特質系統
- [x] LLM 生成 SQL 查詢
- [x] 基於真實分數的匹配計算
- [x] 個性化推薦理由生成
- [x] 一鍵啟動腳本
- [x] 完整的文檔系統

### 未來擴展 🚧

- [ ] 向量搜索（語義相似度）
- [ ] RAG 架構（檢索增強生成）
- [ ] 多輪對話管理
- [ ] 用戶偏好學習
- [ ] 移動端支援

## 📁 專案結構

```
專案根目錄/
│
├── start_all.bat                    # 一鍵啟動
├── stop_all.bat                     # 停止系統
├── talent-chat-frontend.html        # 前端介面
├── README.md                        # 本文件
│
├── 文檔/
│   ├── 快速啟動指南.md
│   ├── README-啟動說明.md
│   ├── 系統啟動流程.md
│   ├── 新架構說明-資料庫驅動.md
│   ├── 新舊架構對比.md
│   ├── LLM搜索流程詳解.md
│   ├── 特質歸類系統說明.md
│   └── 人才搜索系統-LLM整合說明.md
│
└── BackEnd/                         # 後端目錄
    ├── talent_search_api.py         # API 主程式
    ├── start_api.bat                # 啟動後端
    ├── requirements_api.txt         # Python 套件
    ├── test_llm.py                  # 測試 LLM
    ├── test_new_search.py           # 測試搜索
    ├── query_traits.py              # 查詢特質
    ├── db_schema_analyzer.py        # 資料庫分析
    ├── private-key-openssh.pem      # SSH 私鑰
    ├── README_TALENT_SEARCH.md      # 後端文檔
    └── venv/                        # 虛擬環境
```

## 🔐 安全性

- SSH 隧道加密連接
- API Key 安全管理
- CORS 跨域保護
- 輸入驗證和清理

## 🤝 貢獻

歡迎提出問題和建議！

## 📄 授權

此專案僅供內部使用。

## 📞 聯絡資訊

如有問題，請參考文檔或聯絡開發團隊。

---

**開始使用**: 執行 `start_all.bat` 即可體驗 AI 驅動的智能人才搜索！🚀
