# äººæ‰æœç´¢ç³»çµ± - å•Ÿå‹•èªªæ˜

## ğŸ¯ ç³»çµ±æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å‰ç«¯ (Vue.js)                             â”‚
â”‚              talent-chat-frontend.html                       â”‚
â”‚              http://localhost (æœ¬åœ°æª”æ¡ˆ)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚ HTTP API
                       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 å¾Œç«¯ API (FastAPI)                           â”‚
â”‚            BackEnd/talent_search_api.py                      â”‚
â”‚              http://localhost:8000                           â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ LLM Service (DeepSeek-V3)                           â”‚   â”‚
â”‚  â”‚ â€¢ å¾è³‡æ–™åº«è¼‰å…¥ç‰¹è³ª                                    â”‚   â”‚
â”‚  â”‚ â€¢ åˆ†æç”¨æˆ¶æŸ¥è©¢                                        â”‚   â”‚
â”‚  â”‚ â€¢ ç”Ÿæˆ SQL æ¢ä»¶                                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚ SSH Tunnel + SQL
                       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              PostgreSQL è³‡æ–™åº«                               â”‚
â”‚              61.216.152.8:5432                              â”‚
â”‚                                                              â”‚
â”‚  â€¢ trait (50å€‹ç‰¹è³ª)                                          â”‚
â”‚  â€¢ individual_profile (å€™é¸äºº)                              â”‚
â”‚  â€¢ individual_test_result (æ¸¬è©•çµæœ)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ å¿«é€Ÿå•Ÿå‹•

### æ–¹æ³• 1ï¼šä¸€éµå•Ÿå‹•ï¼ˆæ¨è–¦ï¼‰

**Windows**:

```cmd
é›™æ“Š start_all.bat
```

**æœƒè‡ªå‹•**:

1. âœ… å•Ÿå‹•å¾Œç«¯ APIï¼ˆæ–°è¦–çª—ï¼‰
2. âœ… é–‹å•Ÿå‰ç«¯ä»‹é¢ï¼ˆç€è¦½å™¨ï¼‰
3. âœ… é¡¯ç¤ºç³»çµ±ç‹€æ…‹

### æ–¹æ³• 2ï¼šåˆ†åˆ¥å•Ÿå‹•

**æ­¥é©Ÿ 1 - å•Ÿå‹•å¾Œç«¯**:

```cmd
cd BackEnd
start_api.bat
```

**æ­¥é©Ÿ 2 - é–‹å•Ÿå‰ç«¯**:

```
é›™æ“Š talent-chat-frontend.html
```

## ğŸ›‘ åœæ­¢ç³»çµ±

**Windows**:

```cmd
é›™æ“Š stop_all.bat
```

æˆ–æ‰‹å‹•é—œé–‰å¾Œç«¯å‘½ä»¤æç¤ºå­—å…ƒè¦–çª—ã€‚

## ğŸ“Š é©—è­‰ç³»çµ±é‹è¡Œ

### 1. æª¢æŸ¥å¾Œç«¯

è¨ªå•ï¼šhttp://localhost:8000

**é æœŸå›æ‡‰**:

```json
{
  "message": "äººæ‰èŠå¤©æœç´¢ API",
  "version": "1.0.0",
  "endpoints": {
    "search": "/api/search",
    "candidates": "/api/candidates",
    "websocket": "/ws"
  }
}
```

### 2. æª¢æŸ¥ API æ–‡æª”

è¨ªå•ï¼šhttp://localhost:8000/docs

æ‡‰è©²çœ‹åˆ° Swagger UI ä»‹é¢ï¼Œå¯ä»¥æ¸¬è©¦æ‰€æœ‰ APIã€‚

### 3. æª¢æŸ¥å‰ç«¯é€£æ¥

é–‹å•Ÿå‰ç«¯å¾Œï¼Œå³ä¸Šè§’æ‡‰è©²é¡¯ç¤ºï¼š

```
ğŸŸ¢ å·²é€£æ¥
```

å¦‚æœé¡¯ç¤ºã€Œæœªé€£æ¥ã€ï¼Œè«‹ç¢ºèªå¾Œç«¯æ˜¯å¦æ­£åœ¨é‹è¡Œã€‚

## ğŸ® ä½¿ç”¨ç¤ºç¯„

### 1. åŸºç¤æœç´¢

åœ¨èŠå¤©æ¡†è¼¸å…¥ï¼š

```
æˆ‘éœ€è¦ä¸€å€‹å–„æ–¼æºé€šçš„éŠ·å”®äººå“¡
```

**ç³»çµ±è™•ç†æµç¨‹**:

```
ç”¨æˆ¶è¼¸å…¥
   â†“
LLM åˆ†æ â†’ æå–ç‰¹è³ªï¼šå”èª¿æºé€šã€ç©æ¥µå‚¾è½
   â†“
ç”Ÿæˆ SQL â†’ WHERE (trait_results->>'å”èª¿æºé€š')::int >= 75
   â†“
æŸ¥è©¢è³‡æ–™åº« â†’ è¿”å›ç¬¦åˆæ¢ä»¶çš„å€™é¸äºº
   â†“
è¨ˆç®—åŒ¹é…åº¦ â†’ åŸºæ–¼å¯¦éš›æ¸¬è©•åˆ†æ•¸
   â†“
é¡¯ç¤ºçµæœ â†’ å€™é¸äººå¡ç‰‡ + æ¨è–¦ç†ç”±
```

### 2. è¤‡é›œæŸ¥è©¢

```
æ‰¾ä¸€å€‹æœ‰å‰µé€ åŠ›ã€åˆ†æèƒ½åŠ›å¼·ã€å–„æ–¼åœ˜éšŠåˆä½œçš„ç”¢å“ç¶“ç†
```

LLM æœƒï¼š

- è­˜åˆ¥å¤šå€‹ç‰¹è³ª
- ç”Ÿæˆè¤‡åˆ SQL æ¢ä»¶
- è¨ˆç®—ç¶œåˆåŒ¹é…åˆ†æ•¸

### 3. æŸ¥çœ‹å€™é¸äººè©³æƒ…

é»æ“Šå€™é¸äººå¡ç‰‡ï¼ŒæŸ¥çœ‹ï¼š

- å®Œæ•´çš„ç‰¹è³ªåˆ†æ•¸
- æ¸¬è©•æ­·å²
- åŒ¹é…ç†ç”±

## ğŸ”§ é…ç½®èªªæ˜

### å¾Œç«¯é…ç½®

**æª”æ¡ˆ**: `BackEnd/talent_search_api.py`

**è³‡æ–™åº«é€£æ¥**:

```python
DB_CONFIG = {
    'ssh_host': '61.216.152.8',
    'ssh_port': 22,
    'ssh_username': 'victor_cheng',
    'ssh_private_key': 'private-key-openssh.pem',
    'db_host': 'localhost',
    'db_port': 5432,
    'db_name': 'projectdb',
    'db_user': 'projectuser',
    'db_password': 'projectpass'
}
```

**LLM é…ç½®**:

```python
LLM_CONFIG = {
    'api_key': 'sk-xmwxrtsxgsjwuyeceydoyuopezzlqresdjyvlzrbbjeejiff',
    'api_host': 'https://api.siliconflow.cn',
    'model': 'deepseek-ai/DeepSeek-V3'
}
```

**ä¿®æ”¹ç«¯å£**:

```python
# æª”æ¡ˆæœ€å¾Œä¸€è¡Œ
uvicorn.run(app, host="0.0.0.0", port=8000)  # ä¿®æ”¹ port
```

### å‰ç«¯é…ç½®

**æª”æ¡ˆ**: `talent-chat-frontend.html`

**API ä½å€**:

```javascript
data() {
    return {
        apiBaseUrl: 'http://localhost:8000'  // ä¿®æ”¹ç‚ºä½ çš„å¾Œç«¯ä½å€
    }
}
```

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```
å°ˆæ¡ˆæ ¹ç›®éŒ„/
â”‚
â”œâ”€â”€ start_all.bat                    # ä¸€éµå•Ÿå‹•
â”œâ”€â”€ stop_all.bat                     # åœæ­¢ç³»çµ±
â”œâ”€â”€ talent-chat-frontend.html        # å‰ç«¯ä»‹é¢
â”œâ”€â”€ å¿«é€Ÿå•Ÿå‹•æŒ‡å—.md                   # æœ¬æ–‡ä»¶
â”‚
â”œâ”€â”€ BackEnd/                         # å¾Œç«¯ç›®éŒ„
â”‚   â”œâ”€â”€ talent_search_api.py         # API ä¸»ç¨‹å¼
â”‚   â”œâ”€â”€ start_api.bat                # å•Ÿå‹•å¾Œç«¯
â”‚   â”œâ”€â”€ requirements_api.txt         # Python å¥—ä»¶
â”‚   â”œâ”€â”€ test_llm.py                  # æ¸¬è©¦ LLM
â”‚   â”œâ”€â”€ test_new_search.py           # æ¸¬è©¦æœç´¢
â”‚   â”œâ”€â”€ query_traits.py              # æŸ¥è©¢ç‰¹è³ª
â”‚   â”œâ”€â”€ private-key-openssh.pem      # SSH ç§é‘°
â”‚   â””â”€â”€ venv/                        # è™›æ“¬ç’°å¢ƒ
â”‚
â””â”€â”€ æ–‡æª”/
    â”œâ”€â”€ æ–°æ¶æ§‹èªªæ˜-è³‡æ–™åº«é©…å‹•.md
    â”œâ”€â”€ æ–°èˆŠæ¶æ§‹å°æ¯”.md
    â”œâ”€â”€ ç‰¹è³ªæ­¸é¡ç³»çµ±èªªæ˜.md
    â””â”€â”€ LLMæœç´¢æµç¨‹è©³è§£.md
```

## ğŸ› ç–‘é›£æ’è§£

### å•é¡Œ 1ï¼šå¾Œç«¯å•Ÿå‹•å¤±æ•—

**éŒ¯èª¤**: `ModuleNotFoundError: No module named 'fastapi'`

**è§£æ±º**:

```cmd
cd BackEnd
venv\Scripts\activate
pip install -r requirements_api.txt
```

### å•é¡Œ 2ï¼šSSH é€£æ¥å¤±æ•—

**éŒ¯èª¤**: `Could not establish session to SSH gateway`

**è§£æ±º**:

1. ç¢ºèªç§é‘°æª”æ¡ˆå­˜åœ¨ï¼š`BackEnd/private-key-openssh.pem`
2. ç¢ºèªç§é‘°æ ¼å¼æ­£ç¢ºï¼ˆOpenSSH æ ¼å¼ï¼Œé PPKï¼‰
3. åƒè€ƒ `BackEnd/ä½¿ç”¨èªªæ˜.md` è½‰æ›ç§é‘°

### å•é¡Œ 3ï¼šLLM API èª¿ç”¨å¤±æ•—

**éŒ¯èª¤**: `LLM API éŒ¯èª¤: 401`

**è§£æ±º**:

1. æª¢æŸ¥ API Key æ˜¯å¦æ­£ç¢º
2. æ¸¬è©¦ LLM é€£æ¥ï¼š
   ```cmd
   cd BackEnd
   venv\Scripts\activate
   python test_llm.py
   ```

### å•é¡Œ 4ï¼šå‰ç«¯ç„¡æ³•é€£æ¥å¾Œç«¯

**ç—‡ç‹€**: å‰ç«¯é¡¯ç¤ºã€Œæœªé€£æ¥ã€

**è§£æ±º**:

1. ç¢ºèªå¾Œç«¯æ­£åœ¨é‹è¡Œï¼šè¨ªå• http://localhost:8000
2. æª¢æŸ¥ç€è¦½å™¨æ§åˆ¶å°ï¼ˆF12ï¼‰æ˜¯å¦æœ‰éŒ¯èª¤
3. ç¢ºèªé˜²ç«ç‰†æ²’æœ‰é˜»æ“‹ 8000 ç«¯å£

### å•é¡Œ 5ï¼šç«¯å£è¢«å ç”¨

**éŒ¯èª¤**: `Address already in use`

**è§£æ±º**:

```cmd
# æŸ¥æ‰¾å ç”¨ç«¯å£çš„é€²ç¨‹
netstat -ano | findstr :8000

# çµ‚æ­¢é€²ç¨‹
taskkill /PID <é€²ç¨‹ID> /F
```

## ğŸ“š é€²éšåŠŸèƒ½

### 1. æ¸¬è©¦ LLM é€£æ¥

```cmd
cd BackEnd
venv\Scripts\activate
python test_llm.py
```

### 2. æ¸¬è©¦å®Œæ•´æœç´¢æµç¨‹

```cmd
cd BackEnd
venv\Scripts\activate
python test_new_search.py
```

### 3. æŸ¥è©¢è³‡æ–™åº«ç‰¹è³ª

```cmd
cd BackEnd
venv\Scripts\activate
python query_traits.py
```

### 4. æŸ¥çœ‹ API æ—¥èªŒ

å¾Œç«¯è¦–çª—æœƒé¡¯ç¤ºæ‰€æœ‰ API è«‹æ±‚å’Œ SQL æŸ¥è©¢ã€‚

## ğŸ“ å­¸ç¿’è³‡æº

- **æ–°æ¶æ§‹èªªæ˜**: `æ–°æ¶æ§‹èªªæ˜-è³‡æ–™åº«é©…å‹•.md`
- **æ¶æ§‹å°æ¯”**: `æ–°èˆŠæ¶æ§‹å°æ¯”.md`
- **ç‰¹è³ªç³»çµ±**: `ç‰¹è³ªæ­¸é¡ç³»çµ±èªªæ˜.md`
- **æœç´¢æµç¨‹**: `LLMæœç´¢æµç¨‹è©³è§£.md`

## ğŸ’¡ ä½¿ç”¨æŠ€å·§

### 1. ç²¾ç¢ºæœç´¢

ä½¿ç”¨å…·é«”çš„ç‰¹è³ªåç¨±ï¼š

```
æ‰¾ä¸€å€‹å”èª¿æºé€šèƒ½åŠ›å¼·çš„äºº
```

### 2. å¤šæ¢ä»¶æœç´¢

çµ„åˆå¤šå€‹ç‰¹è³ªï¼š

```
éœ€è¦åˆ†ææ€§æ€è€ƒã€å‰µé€ æ€§æ€è€ƒå’Œç³»çµ±æ€§æ€è€ƒéƒ½å¾ˆå¼·çš„äºº
```

### 3. è·ä½å°å‘æœç´¢

æè¿°è·ä½éœ€æ±‚ï¼š

```
æˆ‘éœ€è¦ä¸€å€‹æŠ€è¡“å‰µé€ è€…ï¼Œå…·å‚™ AI ç´ é¤Šå’Œæ‰¹åˆ¤æ€§æ€è€ƒ
```

## ğŸ‰ é–‹å§‹ä½¿ç”¨

ç¾åœ¨ä½ å·²ç¶“æº–å‚™å¥½äº†ï¼

1. åŸ·è¡Œ `start_all.bat`
2. ç­‰å¾…ç³»çµ±å•Ÿå‹•
3. åœ¨èŠå¤©æ¡†è¼¸å…¥ä½ çš„éœ€æ±‚
4. æŸ¥çœ‹ AI ç‚ºä½ æ‰¾åˆ°çš„æœ€ä½³å€™é¸äºº

äº«å—æ™ºèƒ½äººæ‰æœç´¢çš„é«”é©—ï¼ğŸš€
